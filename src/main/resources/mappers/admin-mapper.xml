<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.kh.jmt.admin.mapper.AdminMapper">

	<select id="selectCategoryList"
			resultType="map">
		SELECT 
			CATEGORY_NO "categoryNo" ,
			CATEGORY_NAME "categoryName"
		FROM "CATEGORY"
	</select>
	
	
	<select id="selectLocationList"
			resultType="map">
		SELECT 
			LOCATION_NO "locationNo" ,
			LOCATION_NAME "locationName"
		FROM "LOCATION"
	</select>
	
	
	
	<!-- 식당 정보 등록 -->
	<insert id="restaurantInsert">
		<selectKey order="BEFORE"
				   resultType="_int"
				   keyProperty="restaurantNo">
			SELECT SEQ_RESTAURANT_NO.NEXTVAL FROM DUAL
		</selectKey>
		
		INSERT INTO "RESTAURANT"
		VALUES(
			#{restaurantNo},
			#{restaurantName},
			#{restaurantAddress},
			#{restaurantTel},
			#{restaurantImg1},
			#{restaurantImg2},
			DEFAULT,
			#{locationNo},
			#{categoryNo}
		)

	</insert>
	
	
	 <insert id="menuListInsert">
  		INSERT INTO "MENU"
  		
  		<foreach collection="list" item="menu"
  				 open="(" close=")" separator=" UNION ALL ">
  				 
  			SELECT 
  				SEQ_MENU_NO.NEXTVAL
				#{menu.menuName}, 
				#{menu.menuPrice},
				#{menu.restaurantNo}
			FROM DUAL
  		</foreach>
  	</insert>
</mapper>
